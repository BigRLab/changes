<section>
    <div class="page-header" bind-once>
        <div class="actions">
            <a class="dropdown-toggle btn btn-primary" data-toggle="dropdown">
                <span class="caret"></span>
            </a>
            <nav class="dropdown-menu dropdown-menu-right">
                <ul class="nav">
                    <li><a href="javascript:void(0)" ng-click="createBuild()">Build this Commit</a></li>
                </ul>
            </nav>
        </div>

        <h2>{{commit.id}}</h2>
    </div>
    <dl class="flat">
        <dt ng-if="commit.author">Author:</dt>
        <dd ng-if="commit.author">{{commit.author.name}} <span ng-if="commit.author.email">(<a href="mailto:{{commit.author.email}}">{{commit.author.email}}</a>)</span></dd>
        <dt>Repository:</dt>
        <dd>{{repository.url}}</dd>
        <dt>Date:</dt>
        <dd><span time-since="commit.dateCreated"></span></dd>
        <dt>Branch:</dt>
        <dd><span ng-repeat="branch in commit.branches">{{branch}}</span></dd>
        <dt ng-if="commit.external">Browse:</dt>
        <dd ng-if="commit.external"><a href="{{commit.external.link}}">{{commit.external.label}}</a></dd>
    </dl>

    <section class="section">
        <div class="section-header">
            <h2>Builds</h2>
        </div>

        <table class="build-list">
            <thead>
                <tr class="build-list-header">
                    <th>Build</th>
                    <th class="duration">Duration</th>
                    <th class="coverage" ng-if="features.coverage">Coverage</th>
                    <th class="tests" ng-if="features.tests">Tests</th>
                    <th class="date">When</th>
                </tr>
            </thead>
            <tbody ng-repeat-start="build in builds">
                <tr buildrow="build" features="features" show-project="true"></tr>
            </tbody>
            <tbody ng-repeat-end></tbody>
        </table>
    </section>
</section>
